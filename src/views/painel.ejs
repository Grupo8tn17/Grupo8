<%- include('partials/cabecalho-alternativo') %>

    <section class="painel-container">

        <!-- início do main -->
        <main>

            <div class="titulo-painel">
                <h1>Painel do Usuario</h1>
                <hr>
            </div>

            <div class="introduction">

                <% usuarios.forEach(usuario=> { %>


                    <h3>Olá, <%= usuario.nome %>
                    </h3>
                    <p>Aqui é possível ver o resumo das suas atividades e atualizar suas informações.</p>
                    <p>Escolha uma das opções para visualizar ou editar suas informações.</p>
            </div>

            <!-- Início section dos Dados Pessoais/endereço -->
            <section class="dados-usuario">

                <div id="meus-dados" class="estilo-div">

                    <h2>Dados Pessoais</h2>
                    <hr>

                    <b>Nome Completo:</b>
                    <p>
                        <%= usuario.nome + " " + usuario.sobrenome%>
                    </p>
                    <br>

                    <b>E-Mail:</b>
                    <p>
                        <%= usuario.email %>
                    </p>
                    <br>

                    <b>CPF:</b>
                    <p>
                        <%= usuario.documento_usuario %>
                    </p>
                    <br>

                    <b>Data de Nascimento:</b>
                    <p id="data-pedido">
                        <%= usuario.data_nascimento %>
                    </p>
                    <br>

                    <b>Telefone:</b>
                    <p>
                        <%= usuario.telefone %>
                    </p>
                    <br>

                    <button class="editar-dados">
                        <a class="add-button" href="/usuarios/editaUsuario/<%= usuario.idusuarios %>"> Editar Dados</a>                            
                    </button>

                </div>

                <div id="meus-enderecos" class="estilo-div">


                    <h2>Meus Endereços</h2>
                    <hr>

                    <% for (let endereco of enderecos) { %>

                        <b>Logradouro:</b>
                        <p>
                            <%= endereco?.logradouro + ", " + endereco?.endereco_numero + " - " + endereco?.complemento
                                %>
                        </p>
                        <br>

                        <b>Bairro:</b>
                        <p>
                            <%= endereco?.bairro %>
                        </p>
                        <br>

                        <b>Cidade:</b>
                        <p>
                            <%= endereco?.cidade + " - " + endereco?.estado %>
                        </p>
                        <br>

                        <b>Cep</b>
                        <p>
                            <%= endereco?.cep %>
                        </p>
                        <br>
                        <% } %>

                            <button class="cadastrar-endereco">
                                <a class="add-button" href="/formEndereco/<%= usuario.idusuarios %>">Adicionar</a>
                            </button>

                            <button class="editar-endereco">
                                <a class="add-button"
                                    href="/formEndereco/<%= enderecos.idendereco %>">Editar</a>
                            </button>

                            <form action="/<%= enderecos.idendereco %>?_method=DELETE" method="post">
                                <button class="excluir-endereco">Excluir</button>
                            </form>

                </div>
            </section>

            <!-- Fim da Section dos Dados Pessoais -->

        </main>
        <!-- Fim do Main -->

        <!-- Início do Aside -->
        <aside>
            <section class="aside-user">
                <figure>
                    <i class="icon-user fa-solid fa-user"></i>
                </figure>

                <h3 class="name-user">
                    <%= usuario.nome + " " + usuario.sobrenome%>
                </h3>
                <nav>
                    <ul class="options-user">
                        <li><a class="list-icon" href="#meus-dados"><i class="fa-solid fa-user"></i>Meus Dados</a></li>
                        <hr>
                        <li><a class="list-icon" href="/meus-pedidos/<%= usuario.idusuarios %>"><i
                                    class="fa-sharp fa-solid fa-clipboard-list"></i>Meus Pedidos</a></li>
                        <hr>
                        <li><a class="list-icon" href="#meus-enderecos"><i class="fa-solid fa-address-card"></i>Meus
                                Endereços</a>
                        </li>
                        <hr>
                        <li><a class="list-icon" href="/sair"><i class="fa-solid fa-right-from-bracket"></i>Sair</a>
                        </li>
                        <hr>
                    </ul>
                </nav>
            </section>
            <% }); %>
        </aside>
        <!-- Fim do Aside -->

    </section>
    <!-- Fim do Container -->

    <%- include('partials/rodape-alternativo') %>